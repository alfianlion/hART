generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mongodb"
  url      = env("DATABASE_URL")
}

enum StaffType {
  INTERN
  RO
}

model Staff {
  id       String    @id @default(auto()) @map("_id") @db.ObjectId
  name     String
  email    String    @unique
  password String
  type     StaffType @default(INTERN)
  leaves   Float?
  GVTStaff GVTStaff?
}

model GVTStaff {
  id      String @id @default(auto()) @map("_id") @db.ObjectId
  name    String
  email   String
  leaves  Float
  staff   Staff  @relation(fields: [staffId], references: [id])
  staffId String @unique @db.ObjectId
}

enum LeaveCategory {
  GOVTECH
  MOM
}

enum LeaveType {
  FULL
  HALF_PM
  HALF_AM
}

enum LeaveStatus {
  APPROVED
  REJECTED
  PENDING
  CANCELLED
}

model Leave {
  id               String        @id @default(auto()) @map("_id") @db.ObjectId
  staffId          String
  roId             String
  leaveCategory    LeaveCategory
  leaveType        LeaveType
  startDate        DateTime
  endDate          DateTime
  leaveDetails     String?
  leaveStatus      LeaveStatus   @default(PENDING)
  rejectedDetails  String?
  lastModifiedDate DateTime      @updatedAt
}
